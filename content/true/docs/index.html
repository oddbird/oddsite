

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <title>True Documentation</title>

  <link href="assets/img/favicon.ico" rel="shortcut icon">
  <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro:400,600|Source+Sans+Pro:400,400i,700,700i" rel="stylesheet">

  <link rel="stylesheet" href="assets/webpack/app_styles.min.css" />

  

  
</head>
<body>
  <svg xmlns="http://www.w3.org/2000/svg" hidden>
  <symbol id="icon-logo" viewBox="0 0 16 16">
    <path d="M.2 8L0 7.8v-.2C.8 6.9 1.9 5.9 2.7 5l.4.3c-.5.8-1.1 1.6-1.8 2.3 1 1.2 1 1.3 1.7 2.4l-.4.3c-.4-.4-.5-.6-1-1C1 8.6 1.1 8.7.2 8zM13 10c.6-1.1.7-1.1 1.7-2.4-.6-.6-1.3-1.5-1.7-2.3l.3-.3c.8.8 1.8 1.8 2.7 2.6v.2l-.8.7c-.3.3-1.2 1.1-1.8 1.7L13 10z"/><path d="M2.6 13.1H3c.9 0 1.1-.2 1.1-1.4V4.2c0-1.1-.2-1.4-1.1-1.4h-.4v-.6h4.5v.7h-.3c-.9 0-1.1.2-1.1 1.4v3.2h4.6V4.2c0-1.1-.2-1.4-1.1-1.4h-.3v-.6h4.5v.7H13c-.9 0-1.1.2-1.1 1.4v7.5c0 1.1.2 1.4 1.1 1.4h.4v.7H8.9v-.7h.3c.9 0 1.1-.2 1.1-1.4V8.2H5.7v3.5c0 1.1.2 1.4 1.1 1.4h.3v.7H2.6v-.7z"/>
  </symbol>
  <symbol id="icon-menu" viewBox="0 0 24 28">
    <path d="M24 21v2c0 .547-.453 1-1 1H1c-.547 0-1-.453-1-1v-2c0-.547.453-1 1-1h22c.547 0 1 .453 1 1zm0-8v2c0 .547-.453 1-1 1H1c-.547 0-1-.453-1-1v-2c0-.547.453-1 1-1h22c.547 0 1 .453 1 1zm0-8v2c0 .547-.453 1-1 1H1c-.547 0-1-.453-1-1V5c0-.547.453-1 1-1h22c.547 0 1 .453 1 1z"/>
  </symbol>
</svg>

  <div data-region="app">
    <header data-region="banner">
      
  <button data-nav-toggle data-toggle="button" aria-controls="nav" aria-pressed="false" type="button" data-toggle-synced="false">
    
  <svg data-icon="menu" data-icon-size="nav-icon" ><title>menu</title><use xlink:href="#icon-menu" />
  </svg>

  </button>


      <div class="project-title">
        <a href="index.html" rel="home" class="project-name">True</a>
        
          <span class="project-version">3.1.0</span>
        
      </div>
    </header>

    <div data-region="container">
      
  <nav data-region="nav" data-toggle="target" id="nav" data-target-id="nav" aria-expanded="false" data-auto-closing="false" data-auto-closing-on-any-click="false">
    <form action="search.html">
      <input type="text" name="q" placeholder="Search…" required minlength="3">
    </form>

    <div class="nav-subsection">
      <h3 class="nav-home">
        
        <a href="index.html" data-nav="is-active">True</a>
      </h3>

      
      
        <ul>
          
            
            <li class="nav-item">
              <a href="CHANGELOG.html" data-nav="is-not-active">Changelog</a>
            </li>
          
            
            <li class="nav-item">
              <a href="CONTRIBUTING.html" data-nav="is-not-active">Contributing</a>
            </li>
          
            
            <li class="nav-item">
              <a href="LICENSE.html" data-nav="is-not-active">BSD3 License</a>
            </li>
          
        </ul>
      
    </div>

    
    <div class="nav-subsection">
      <ul>
            <li class="nav-subsection">
              <h3 class="nav-title">Public API</h3>
              <ul>
                
  
    <li class="nav-item">
      <a href="api-test.html" data-nav="is-not-active">Describing Tests</a>
    </li>
  
  
    <li class="nav-item">
      <a href="api-assert-values.html" data-nav="is-not-active">Comparing Values</a>
    </li>
  
  
    <li class="nav-item">
      <a href="api-assert-output.html" data-nav="is-not-active">Comparing Output</a>
    </li>
  
  
    <li class="nav-item">
      <a href="api-xreport.html" data-nav="is-not-active">Reporting Results</a>
    </li>
  </ul>
            </li>
            <li class="nav-subsection">
              <h3 class="nav-title">Internal Helpers [Private]</h3>
              <ul>
                
  
    <li class="nav-item">
      <a href="private-utils.html" data-nav="is-not-active">Utilities</a>
    </li>
  
  
    <li class="nav-item">
      <a href="private-context.html" data-nav="is-not-active">Data Management</a>
    </li>
  
  
    <li class="nav-item">
      <a href="private-test.html" data-nav="is-not-active">Tests</a>
    </li>
  
  
    <li class="nav-item">
      <a href="private-assert.html" data-nav="is-not-active">Assertions</a>
    </li>
  
  
    <li class="nav-item">
      <a href="private-message.html" data-nav="is-not-active">Reporting</a>
    </li>
  </ul>
            </li></ul>
    </div>

    
    

    
      <aside class="footer-credit">
        <a href="http://oddbird.net/herman/" class="footer-icon">
          
  <svg data-icon="logo" data-icon-size="footer-logo" ><use xlink:href="#icon-logo" />
  </svg>

        </a>
        <span>
          Documented with
          <a href="http://oddbird.net/herman/" class="footer-link">
            Herman
          </a>
        </span>
        <span>
          by
          <a href="http://oddbird.net/" class="footer-link">
            OddBird
          </a>
        </span>
      </aside>
    
  </nav>


      <main data-region="main">
        

        <div data-page="index">
          
  
  
    <ul class="project-links">
      
        <li class="project-link-item">
          <a href="http://oddbird.net/true" class="project-link">View Project</a>
        </li>
      
      
        <li class="project-link-item">
          <a href="https://github.com/oddbird/true.git" class="project-link">View Source</a>
        </li>
      
    </ul>
  


  <div class="text-block">
    <h1 id="true">True</h1>
<p><a href="https://greenkeeper.io/"><img src="https://badges.greenkeeper.io/oddbird/true.svg" alt="Greenkeeper badge"></a>
<a href="https://travis-ci.org/oddbird/true"><img src="https://api.travis-ci.org/oddbird/true.svg" alt="Build Status"></a>
<a href="https://opensource.org/licenses/BSD-3-Clause"><img src="https://img.shields.io/badge/License-BSD%203--Clause-blue.svg" alt="License"></a></p>
<p>True is a unit-testing tool
for <a href="http://sass-lang.com">Sass</a> code –
initially developed for the
<a href="http://susy.oddbird.net">Susy layout toolkit</a>.
All of the test code is written in pure Sass,
and can be compiled by any Sass compiler –
but we also provide integration with
<a href="https://mochajs.org/">Mocha JS</a>,
for extra features and improved<span class="widont">&nbsp;</span>reporting.</p>
<p><strong>Verb</strong></p>
<ol>
<li>To make true; shape, adjust, place, etc., exactly or<span class="widont">&nbsp;</span>accurately:</li>
</ol>
<p><em>True the wheels of a bicycle after striking a<span class="widont">&nbsp;</span>pothole.</em></p>
<ol start="2">
<li>To make even, symmetrical, level, etc. (often followed by <em>up</em>):</li>
</ol>
<p><em>True up the sides of a<span class="widont">&nbsp;</span>door.</em></p>
<ol start="3">
<li>To test your Sass code; debug, perfect, etc. (often using <em>True</em>):</li>
</ol>
<p><em>True your sweet plugin before you<span class="widont">&nbsp;</span>deploy.</em></p>
<h2 id="install">Install</h2>
<p>In command line:</p>
<pre><code class="lang-bash"># npm module
npm install sass-true
</code></pre>
<p>Import in your test directory,
like any other Sass<span class="widont">&nbsp;</span>file:</p>
<pre><code class="lang-scss">@import &quot;true&quot;;
</code></pre>
<p>Depending on your setup,
you may need to include the full path<span class="widont">&nbsp;</span>name:</p>
<pre><code class="lang-scss">// This is only an example
@import &quot;../node_modules/sass-true/sass/true&quot;;
</code></pre>
<h2 id="one-setting">One Setting</h2>
<p><code>$true-terminal-output</code> (boolean),
defaults to <code>true</code></p>
<ul>
<li><code>true</code> will show detailed information in the terminal
for debugging failed assertions, or reporting final results.
This is the default, and best for compiling without<span class="widont">&nbsp;</span>Mocha.</li>
<li><code>false</code> will turn off all terminal output from Sass,
though Mocha will continue to use the terminal for<span class="widont">&nbsp;</span>reporting.</li>
</ul>
<h2 id="usage">Usage</h2>
<p>True is based on common JS-testing patterns,
allowing both a <code>test-module</code>/<code>test</code> syntax,
and the newer <code>describe</code>/<code>it</code> for defining the<span class="widont">&nbsp;</span>structure:</p>
<pre><code class="lang-scss">@include test-module('Zip [function]') {
  @include test('Zips multiple lists into a single multi-dimensional list') {

    // Assert the expected results
    @include assert-equal(
      zip(a b c, 1 2 3),
      (a 1, b 2, c 3));
  }
}
</code></pre>
<p>This is the same<span class="widont">&nbsp;</span>as…</p>
<pre><code class="lang-scss">@include describe('Zip [function]') {
  @include it('Zips multiple lists into a single multi-dimensional list') {

    // Assert the expected results
    @include assert-equal(
      zip(a b c, 1 2 3),
      (a 1, b 2, c 3));
  }
}
</code></pre>
<p>Sass is able to compare values internally,
meaning function-output and variable values
can easily be compared and reported during Sass<span class="widont">&nbsp;</span>compilation.</p>
<p>CSS output tests, on the other hand,
have to be compared after compilation is complete.
You can do that by hand if you want
(<code>git diff</code> is helpful for noticing changes),
or you can use out <a href="https://mochajs.org/">Mocha JS</a><span class="widont">&nbsp;</span>integration.</p>
<p>Output tests fit the same structure,
but assertions take a slightly different form,
with an outer <code>assert</code> mixin,
and a matching pair of <code>output</code> and <code>expect</code>
to contain the<span class="widont">&nbsp;</span>output-values.</p>
<pre><code class="lang-scss">// Test CSS output from mixins
@include it('Outputs a font size and line height based on keyword') {
  @include assert {
    @include output {
      @include font-size('large');
    }

    @include expect {
      font-size: 2rem;
      line-height: 3rem;
    }
  }
}
</code></pre>
<p>You can optionally show a summary report
in CSS and/or the command line,
after the tests have<span class="widont">&nbsp;</span>completed:</p>
<pre><code class="lang-scss">@include report;
</code></pre>
<p>See the <a href="http://oddbird.net/true">full documentation online</a>
or in the <code>.sassdoc</code> directory,
for more details.
See <a href="https://github.com/oddbird/true/blob/master/CHANGELOG.md">CHANGELOG.md</a>
when upgrading from an older version of<span class="widont">&nbsp;</span>True.</p>
<h2 id="using-mocha-or-other-js-test-runners-">Using Mocha (or other JS test<span class="widont">&nbsp;</span>runners)</h2>
<ol>
<li>
<p>Install <code>true</code> via npm (<code>npm install sass-true</code>).</p>
</li>
<li>
<p>Write some Sass tests in <code>test/test.scss</code> (see above).</p>
</li>
<li>
<p>Write a shim JS test file in <code>test/test_sass.js</code>:</p>
<pre><code class="lang-javascript">var path = require('path');
var sassTrue = require('sass-true');

var sassFile = path.join(__dirname, 'test.scss');
sassTrue.runSass({file: sassFile}, describe, it);
</code></pre>
</li>
<li>
<p>Run Mocha, and see your Sass tests reported in the command<span class="widont">&nbsp;</span>line.</p>
</li>
</ol>
<p>You can call <code>runSass</code> more than once, if you have multiple Sass test files you
want to run<span class="widont">&nbsp;</span>separately.</p>
<p>The first argument to <code>runSass</code> accepts the same options that node-sass’
<code>renderSync</code> function accepts. The only modification <code>runSass</code> makes is to add
True’s sass path to the <code>includePaths</code> option, so <code>@import 'true';</code> works in
your Sass test<span class="widont">&nbsp;</span>file.</p>
<p>Any other JS test runner with equivalents to Mocha’s <code>describe</code> and <code>it</code> should
be usable in the same way; just pass your test runner’s <code>describe</code> and <code>it</code>
equivalents into <code>runSass</code>.</p>
<p>If True’s Mocha plugin can’t parse the CSS output from True, it’ll give you
some context lines of CSS as part of the error message. This context will
likely be helpful in understanding the parse failure. By default it provides up
to 10 lines of context; if you need more, you can provide a numeric fourth
argument to <code>runSass</code>, the maximum number of context lines to<span class="widont">&nbsp;</span>provide.</p>
<h3 id="-with-grunt-">…With Grunt…</h3>
<p>Run Mocha using the Grunt task supplied by
<a href="https://github.com/Rowno/grunt-mocha-cli">grunt-mocha-cli</a></p>
<p>Install <code>grunt-mocha-cli</code>:</p>
<pre><code class="lang-bash">npm install grunt-mocha-cli --save-dev
</code></pre>
<p>Configure task:</p>
<pre><code class="lang-javascript">grunt.loadNpmTasks('grunt-mocha');

mochacli: {
   all: ['test/test_sass.js']
},
</code></pre>
<p>Run tests:</p>
<pre><code class="lang-bash">grunt mochacli
</code></pre>
<h3 id="imports-without-webpack">Imports without Webpack</h3>
<p>If you use Webpack’s tilde notation, like <code>@import '~accoutrement-init/sass/init'</code>, you’ll need to tell <code>runSass</code> how to handle
that. That will require writing a custom importer and passing it into the
configuration for <code>runSass</code>. Something like:</p>
<pre><code class="lang-js">function importer(url, prev, done) {
  if (url[0] === '~') {
    url = path.resolve('node_modules', url.substr(1));
  }

  return { file: url };
}

sassTrue.runSass({ importer, file: sassFile }, describe, it);
</code></pre>

  </div>

        </div>
      </main>
    </div>
  </div>

  <script type="text/javascript" src="assets/webpack/vendor.min.js"></script>
  <script type="text/javascript" src="assets/webpack/app.min.js"></script>
  
</body>
</html>
