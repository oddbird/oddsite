{% import 'birds/utility.macros.j2' as birds %}
{% import 'content.macros.j2' as content %}
{% import 'utility.macros.j2' as utility %}

{% macro letter(
  image,
  author='miriam'
) %}
  {{ content.image_block(
    image=image,
    headline=letter_hello(author),
    content=caller()|rst + letter_sig(author),
    class='home-letter',
    do_rst=false
  ) }}
{% endmacro %}


{% macro letter_sig(
  author='miriam'
) %}
  <div class='letter-sig'>
    {{ utility.icon([author, 'sig']|join('-'), size='sig') }}
    {{ birds.get_card(author) }}
  </div>
{% endmacro %}


{% macro letter_hello(
  author='miriam'
) %}
  {{ utility.icon(author, size='face', class='letter-face') }}
  <span class="letter-hello">
    Hi, I’m
    {{ author|capitalize }} —
  </span>
{% endmacro %}
