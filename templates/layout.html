{% extends "base.html" %}

{% import 'utility.macros.j2' as utility %}
{% import 'content.macros.j2' as content %}
{% import 'layout/macros.j2' as layout %}
{% import 'contact/macros.j2' as contact %}
{% import 'community/subscribe.macros.j2' as news %}

{% block layout %}

  <header data-region="banner">
    <div class="brand">
      {% block banner_logo %}
        <a href="/" rel="home" class="logo-link">
          {{ utility.icon('logo', alt='OddBird', class='logo-icon') }}
        </a>
      {% endblock %}
    </div>

    {% block banner_nav %}
      {{ layout.main_nav(config.nav) }}
    {% endblock %}

    {% call content.link_button('/contact/', class='banner-contact') %}
      {{ utility.icon('mail') }}
      <span class="banner-contact-text">contact us</span>
    {% endcall %}
  </header>

  <main
    data-region="main"
    {{ utility.attr_if('class', config.pageclasses) }}
  >
    {% block body %}{% endblock body %}

    {% include 'contact/_cta.html.j2' %}
  </main>

  <footer data-region="footer">
      {{ contact.social() }}
      <p class="h-card">
        Copyright &copy; {{ config.copyright }}
        <a href="/" class="p-name u-url">OddBird</a>
        |
        Established in 2008 by three odd siblings.
        <a href="/conduct/">Code of Conduct</a>
      </p>
      {{ news.form() }}
  </footer>
{% endblock %}
